<!DOCTYPE html>
<html lang="no">
  <head>
    <script src="libraries/circle-progress.js" type="module"></script>
    <script src="libraries/dayjs.min.js"></script>
    <script src="libraries/customParseFormat.js"></script>
    <script src="libraries/isoWeek.min.js"></script>

    <script>
      dayjs.extend(window.dayjs_plugin_customParseFormat);
      dayjs.extend(window.dayjs_plugin_isoWeek);
    </script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style/base.css" />
    <link rel="stylesheet" href="style/innstilinger.css" />
    <link rel="stylesheet" href="style/style.css" />

    <title>Timer V3</title>
  </head>
  <body class="visning1">
    <h1>Timer</h1>

    <div id="flexMain">
      <div class="kontroller">
        <div class="knapp-rad">
          <button class="button color" onclick="pip()">Åpne i PIP</button>
          <a class="button color" id="classroom" target="_blank">Åpne classroom</a>
        </div>
        <select class="color" id="klassevelger" name="Klassevelger" onchange="endreKlasse()">
          <option value="9E">Klasse 9E</option>
          <option value="9D">Klasse 9D</option>
        </select>
      </div>

      <div class="timer">
        <circle-progress id="cp" value="70" max="100" text-format="none"></circle-progress>
        <p class="tekstTimer" id="timerTekst">Laster</p>
        <p class="tekstTimer" id="timeTekst">Time</p>
      </div>

      <div class="info">
        <table>
          <tr>
            <th id="timeH">Neste time:</th>
            <td id="time">Ukjent</td>
          </tr>
          <tr>
            <th>Lærer:</th>
            <td id="lærer">Ukjent</td>
          </tr>
          <tr>
            <th>Lengde:</th>
            <td id="lengde">Ukjent</td>
          </tr>
          <tr>
            <th>Starter:</th>
            <td id="start">Ukjent</td>
          </tr>
          <tr>
            <th>Slutter:</th>
            <td id="slutt">Ukjent</td>
          </tr>
        </table>
      </div>
    </div>

    <div id="kontroller" style="display: none">
      <div class="knapp-rad">
        <button class="button color" onclick="pip()">Åpne i PIP</button>
        <button class="button color">Åpne classroom</button>
      </div>
      <select class="color" id="klassevelger-blank" name="Klassevelger" onchange="endreKlasse()">
        <option value="">Velg klasse</option>
        <option value="9E">Klasse 9E</option>
      </select>
    </div>

    <div id="modusKnapper">
      <button id="visningKnapp" class="modusKnapp" onclick="byttVisning()">
        <svg id="visning1Knapp" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3">
          <path d="M120-120v-200h80v120h120v80H120Zm520 0v-80h120v-120h80v200H640ZM120-640v-200h200v80H200v120h-80Zm640 0v-120H640v-80h200v200h-80Z" />
        </svg>
        <svg id="visning3Knapp" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3">
          <path d="M240-120v-120H120v-80h200v200h-80Zm400 0v-200h200v80H720v120h-80ZM120-640v-80h120v-120h80v200H120Zm520 0v-200h80v120h120v80H640Z" />
        </svg>
        <svg id="visning2Knapp" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3">
          <path d="M120-120v-320h80v184l504-504H520v-80h320v320h-80v-184L256-200h184v80H120Z" />
        </svg>
      </button>
      <button class="modusKnapp" onclick="innstillingerPopup()">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3">
          <path
            d="m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"
          />
        </svg>
      </button>
    </div>

    <div id="innstilingerMeny" class="lukketInnstilinger innstillingerContainer">
      <div class="switch-container">
        <div>
          <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
              <path
                fill-rule="evenodd"
                d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z"
                clip-rule="evenodd"
              />
            </svg>
          </span>
          Mørk modus
        </div>

        <label for="switch-darkMode" class="switch">
          <input type="checkbox" id="switch-darkMode" onclick="handleSwitch('darkMode')" />
          <span class="slider"></span>
        </label>
      </div>

      <div class="switch-container">
        <div>
          <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
              <path
                fill-rule="evenodd"
                d="M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z"
                clip-rule="evenodd"
              />
            </svg>
          </span>
          Blinking i pip
        </div>

        <label for="switch-blinkingPip" class="switch">
          <input type="checkbox" id="switch-blinkingPip" onclick="handleSwitch('blinkingPip')" checked />
          <span class="slider"></span>
        </label>
      </div>
    </div>

    <canvas id="pipCanvas" width="300" height="150" style="position: fixed; left: -9999px; opacity: 0"></canvas>

    <script src="js/visninger.js"></script>
    <script src="js/timer.js"></script>
    <script src="js/innstillinger.js"></script>
    <script type="module" src="js/klasseTilPlan.js"></script>
  </body>
</html>
